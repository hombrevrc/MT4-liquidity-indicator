Установка и запуск MT4LiquidityIndicator
----------------------------------
----------------------------------

Установка
-------------
Скачайте последнюю версию [MT4 Liquidity Indicator](https://drive.google.com/folderview?id=0BwBMSNJd3y5MQ1E3TTF0ZTZPVjg&usp=sharing#list). Для успешной установки необходимо запустить установку от имени администратора. Сразу после старта программа установки отобразит список установленных Meta Trader 4. Выберите версии Meta Trader 4, для которых надо выполнить установку и нажмите кнопку "Install".

![Installation](/Documentation/Images/Installation.png)


Запуск
-------------

Перемещаем индикатор на ценовой график интересующей нас валютной пары. В возникшем окне необходимо активировать параметры Allow DLL imports и Allow external experts.

![MT4LiquidityIndicator](/Documentation/Images/MT4LiquidityIndicator.png)
![Allow Dll Import](/Documentation/Images/AllowDllImport.png)

При первом запуске нужно выбрать из контекстного меню пункт "Connections settings" и ввести все необходимые параметры.
![The first start](/Documentation/Images/TheFirstStart.png)
![Connections Settings](/Documentation/Images/ConnectionsSettings.png)

Для этого скачайте и установите [OCTL2](http://fxopen.com) плагин, затем откройте DefaultSettings.SoftFX.OneClickTrading.NET.dll.xml файл и выберите подходящие для Вас настройки
![OCTL2](/Documentation/Images/OCTL2.png)

После успешной активации индикатора, внизу ценового графика появится окно, отображающее доступные цены Bid и Ask для заданных объемов в табличном и графическом виде. Обратившись к таблице ниже можно видеть, что, например, для 10 лотов средневзвешенная цена на покупку и продажу в определенный период времени равна 1.29446 и 1.29443 соответственно.  А взглянув на график можно оценить динамику изменения ликвидности.
 
 ![Current Quotes](/Documentation/Images/CurrentQuotes.png)
 
где:
* **Volume** – объем, заданный пользователем;
* **Bid** – доступная для заданного объема цена Bid;
* **Ask** – доступная для заданного объема цена Ask;
* **Diff** – разница между доступными ценами Bid и Ask. 


Использование в режиме реального времени
----------------------------------------

Окно индикатора имеет достаточно гибкие настройки, поэтому пользователь может предать ему тот вид, который будет наиболее удобен для использования. Нажав правой кнопкой мышки на поле индикатора и выбрав во всплывшем окне опцию “View Options”, пользователь получает доспуп к окну настроек графика.

![View Options](/Documentation/Images/ViewOptions.png)

где:

* **Background Color** – опция, позволяющая задать цвет фона окна графика;
* **Duration** – опция, позволяющая задать временной промежуток (в секундах) в рамках которого в окне индикатора будет отображаться графическая информация о ликвидности. В окне индикатора временной промежуток представляет собой шкалу, размещенную в нижней части окна и разделенную на более мелкие периоды; 
* **Foreground Color** – опция, позволяющая задать цвет переднего плана. В данном случае под передним планом мы понимаем временную шкалу, а так же шкалу цен;
* **Height** – опция, позволяющая задать высоту окна индикатора;
* **Mode** – опция, позволяющая задать режим сглаживания линий при прорисовывании графика. 
  - **Quality**  - линии сглажены и более четкие;
  - **Speed** – линии тоньше и не сглажены переходы. 
* **Show Grid** – опция позволяющая накладывать сетку на график. Имеет два режима:
  - **false** – сетка не подствечена,
  - **true** – сетка подсвечена. 
* **Type** – опция, позволяющая задать вид линии, при прорисовке графика.
  - **Stepped** (ступенчатый)
  - **Straight** (линейный, неизогнутый)
  - **Interpolation** (интерполяционный)
* **Update interval** – опция, позволяющая задать интервал обновления графика (в миллисекундах)
* **Lines** – опция, позволяющая задать цвет линий графика. Каждый цвет соответствует одному из заданных объемов, так как опция позволяет оперировать величиной объема в том числе. Пользователь имеет возможность задать несколько значений объемов для которых, на основании данных стакана ликвидности, рассчитываются средневзвешенные цены для каждого заданного объема.Для смены параметров необходимо открыть окно  “Line Settings Collection Editor”.

![Line Settings Collection Editor](/Documentation/Images/LineSettingsCollectionEditor.png)

Использование в режиме исторических данных
------------------------------------------

Пользователь имеет возможность загрузить потиковую историю состояния стакана ликвидности для конкретных объемов. Данная информация выводится в окне индикатора в виде линий соответствующих цветов. Для этого необходимо в контекстном меню выбрать пункт "**View quotes history**", затем ввести желаемое время и нажать кнопку "**Go**".

![Quotes history](/Documentation/Images/QuotesHistory.png)

После успешной загрузки котировок окно индикатора перестанет обновляться и будет показывать исторические данные. Результаты запроса в табличном виде могут быть сохранены в формате .CSV файла.

